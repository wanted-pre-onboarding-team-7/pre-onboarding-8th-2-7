# Team :seven: | ì¹¸ë°˜ë³´ë“œ êµ¬í˜„í•˜ê¸° (Week 2)

ì´ ë ˆíŒŒì§€í† ë¦¬ëŠ” ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© í”„ë¡ íŠ¸ì—”ë“œ ì¸í„´ì‹­ 2ì£¼ì°¨ ê³¼ì œë¥¼ ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.

íŒ€ì›ë“¤ê³¼ í† ë¡ í•´ ì„ ë°œê³¼ì œì˜ ìš”êµ¬ì‚¬í•­ë³„ë¡œ Best Practiceë¥¼ ë„ì¶œí•´ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

## :heavy_check_mark: íŒ€ì› ì†Œê°œ

<table>
  <tbody >
    <tr >
      <td align="center"><a href="https://github.com/SeokyoungYou"><img style="border-radius: 50%; margin-top: 20px;" src="https://avatars.githubusercontent.com/u/79842380?v=4" width="100px; height="100px" alt=""/><br /><sub><b>ìœ ì„œê²½ (íŒ€ì¥)</b></a><ul><li>í”„ë¡œì íŠ¸ ì´ê´„</li><li>ìµœì¢… ë°°í¬ (Github Actions ì‚¬ìš©)</li></sub><br /></td>
      <td align="center"><a href="https://github.com/JiyoonZ"><img style="margin-top: 20px;" src="https://avatars.githubusercontent.com/u/81758576?v=4" width="100px;" alt=""/><br /><sub><b>ê²½ì§€ìœ¤</b></sub></a><ul><li>íšŒì˜ë¡ ì‘ì„±</li><li>Github issue(ê¸°ëŠ¥ êµ¬í˜„) ìƒì„±</li><br /></td>
      <td align="center"><a href=""><img style="margin-top: 20px; border-radius: 50%;" src="https://avatars.githubusercontent.com/u/56298540?v=4" width="100px;" alt=""/><br /><sub><b>ê¹€ìˆ˜ì§„</b></sub></a><ul><li>ë¦¬ë“œë¯¸ êµ¬ì¡° ì‘ì„± ë° ë°°ë¶„</li><li>Github issue(ê¸°ëŠ¥ êµ¬í˜„) ìƒì„±</li><br /></td>
      <td align="center"><a href="https://github.com/khw970421"><img style="border-radius: 50%; margin-top: 20px;" src="https://avatars.githubusercontent.com/u/59253551?v=4" width="100px;" alt=""/><br /><sub><b>ê¹€í˜•ìš±</b></sub></a><ul><li>ê³¼ì œ/í† ë¡  ì¼ì • ê´€ë¦¬ ë° ê³¼ì œ ì œì¶œ</li><li>ì œì¶œ ì „ ìµœì¢… ì½”ë“œ í™•ì¸</li><br /></td>
     <tr/>
      <td align="center"><a href="https://github.com/eternalclash"><img style="border-radius: 50%; margin-top: 20px;" src="https://avatars.githubusercontent.com/u/77526745?v=4" width="100px;" alt=""/><br /><sub><b>ì´ìˆ˜ì°½</b></sub></a><ul><li>CSS theme, constants íŒŒì¼ ì´ê´„</li><li>Best Practice í† ë¡  ì´ê´„ ë° ê³¼ì œ ë°°ë¶„</li><br /></td>
      <td align="center"><a href="https://github.com/etoile-j?tab=repositories"><img style="border-radius: 50%; margin-top: 20px;" src="https://avatars.githubusercontent.com/u/102905624?v=4" width="100px;" alt=""/><br /><sub><b>ì„ìˆ˜ì§„</b></sub></a><ul><li>íŒ€/ì½”ë“œ ì»¨ë²¤ì…˜ ì´ê´„</li><li>ì œì¶œ ì „ ìµœì¢… ì½”ë“œ í™•ì¸</li><br /></td>
      <td align="center"><a href="https://github.com/ckwlghks123"><img style="border-radius: 50%; margin-top: 20px;" src="https://avatars.githubusercontent.com/u/83552466?v=4" width="100px;" alt=""/><br /><sub><b>ì°¨ì§€í™˜</b></sub></a><ul><li>í”„ë¡œì íŠ¸ ê¸°ì´ˆ ì„¸íŒ… ë° í´ë”/íŒŒì¼ íŠ¸ë¦¬ ì´ê´„</li><li>Best Practice í† ë¡  ì´ê´„ ë° ê³¼ì œ ë°°ë¶„</li><br /></td>
    </tr>
  </tbody>
</table>

##### :point_right: [íŒ€ ì»¨ë²¤ì…˜](https://github.com/wanted-pre-onboarding-team-7/pre-onboarding-8th-2-7/wiki/%5B7%ED%8C%80%5D-%ED%8C%80-%EC%BB%A8%EB%B2%A4%EC%85%98) ë³´ëŸ¬ê°€ê¸°

## :heavy_check_mark: ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° íˆ´

<div style="float: left;">
  <img src="https://img.shields.io/badge/Recoil-3776AB?style=for-the-badge&logo=Recoil&logoColor=white">
  <img src="https://img.shields.io/badge/styled components-DB7093?style=for-the-badge&logo=styledcomponents&logoColor=white">
  <img src="https://img.shields.io/badge/Prettier-F7B93E?style=for-the-badge&logo=prettier&logoColor=black">
  <img src="https://img.shields.io/badge/ESLint-4B32C3?style=for-the-badge&logo=eslint&logoColor=white">
  <img src="https://img.shields.io/badge/Husky-808080?style=for-the-badge&logo=husky&logoColor=white">
</div>

<br/>

## :heavy_check_mark: í”„ë¡œì íŠ¸ ì‚´í´ ë³´ê¸°

### :one: ì‹¤í–‰ ë°©ë²•

```
git clone https://github.com/wanted-pre-onboarding-team-7/pre-onboarding-8th-2-7.git
cd pre-onboarding-8th-2-7
npm install
npm start
```

### :two: [ë°°í¬ ë§í¬](https://wanted-pre-onboarding-team-7.github.io/pre-onboarding-8th-2-7/)

[Team 7 ì¹¸ë°˜ë³´ë“œ êµ¬í˜„](https://wanted-pre-onboarding-team-7.github.io/pre-onboarding-8th-2-7/)

### :three: í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ğŸ“¦src
 â”£ ğŸ“‚class
 â”ƒ â”— ğŸ“œcard.js
 â”£ ğŸ“‚components
 â”ƒ â”£ ğŸ“‚btns
 â”ƒ â”ƒ â”£ ğŸ“œCardBtnUI.jsx
 â”ƒ â”ƒ â”£ ğŸ“œCreateCardBtn.jsx
 â”ƒ â”ƒ â”£ ğŸ“œDeleteCardBtn.jsx
 â”ƒ â”ƒ â”— ğŸ“œKanbanBtnUI.jsx
 â”ƒ â”£ ğŸ“‚card
 â”ƒ â”ƒ â”£ ğŸ“œCard.jsx
 â”ƒ â”ƒ â”— ğŸ“œCards.jsx
 â”ƒ â”£ ğŸ“‚inputs
 â”ƒ â”ƒ â”£ ğŸ“œModalContent.jsx
 â”ƒ â”ƒ â”£ ğŸ“œModalDueDateInput.jsx
 â”ƒ â”ƒ â”£ ğŸ“œModalManagerInput.jsx
 â”ƒ â”ƒ â”£ ğŸ“œModalStateInput.jsx
 â”ƒ â”ƒ â”— ğŸ“œModalTitle.jsx
 â”ƒ â”£ ğŸ“‚kanban
 â”ƒ â”ƒ â”£ ğŸ“œKanbanBoard.jsx
 â”ƒ â”ƒ â”£ ğŸ“œKanbanColumn.jsx
 â”ƒ â”ƒ â”£ ğŸ“œKanbanColumnTitle.jsx
 â”ƒ â”ƒ â”— ğŸ“œKanbanHeader.jsx
 â”ƒ â”£ ğŸ“‚modal
 â”ƒ â”ƒ â”£ ğŸ“œDropdown.jsx
 â”ƒ â”ƒ â”£ ğŸ“œModal.jsx
 â”ƒ â”ƒ â”— ğŸ“œModalRow.jsx
 â”ƒ â”— ğŸ“œDraggable.jsx
 â”£ ğŸ“‚hooks
 â”ƒ â”£ ğŸ“œuseDebounce.js
 â”ƒ â”— ğŸ“œuseUpdateCards.jsx
 â”£ ğŸ“‚pages
 â”ƒ â”— ğŸ“œHome.jsx
 â”£ ğŸ“‚store
 â”ƒ â”— ğŸ“œatom.js
 â”£ ğŸ“‚styles
 â”ƒ â”— ğŸ“œGlobalStylesComp.js
 â”£ ğŸ“‚utils
 â”ƒ â”£ ğŸ“œconstant.js
 â”ƒ â”£ ğŸ“œdummyData.js
 â”ƒ â”£ ğŸ“œlocalStorgeFn.js
 â”ƒ â”— ğŸ“œutilFn.js
 â”£ ğŸ“œApp.jsx
 â”£ ğŸ“œindex.js
 â”— ğŸ“œtheme.js

```

## :heavy_check_mark: ê³¼ì œ ìš”êµ¬ì‚¬í•­ì— ë”°ë¥¸ Best Practice

ê¼­ Best Practiceë¡œ ì„ ì •ë˜ì§€ ì•Šì•„ë„ ìŠ¤ìŠ¤ë¡œ ê³µë¶€í•´ë³´ê³  ì‹¶ì€ ë¶€ë¶„ì„ ë‹´ë‹¹í•´ ì½”ë“œë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### [Assignment1] ë°ì´í„° ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¡œì§ êµ¬í˜„

#### ğŸ“ ë¡œì»¬ ë°ì´í„° ì €ì¥ ë¡œì§ êµ¬í˜„ (Recoil-Persist)

- ë‹´ë‹¹ì: ê¹€í˜•ìš±, ê¹€ìˆ˜ì§„

* LocalStorageì— ì €ì¥ë˜ëŠ” ë¡œì»¬ ë°ì´í„°ëŠ” recoil-persistë¥¼ ì¶”ê°€ë¡œ ì‚¬ìš©
* recoilì„ ì‚¬ìš©í•œ ì „ì—­ ìƒíƒœê´€ë¦¬

```js
import { recoilPersist } from 'recoil-persist';
const { persistAtom } = recoilPersist();

const todoCardsState = atom({
  key: 'TodoCards',
  default: DUMMY_KANBAN[KANBAN_STATE.TODOS], //array
  effects: [persistAtom],
});
const progressCardsState = atom({
  key: 'ProgressCards',
  default: DUMMY_KANBAN[KANBAN_STATE.PROGRESS], //array
  effects: [persistAtom],
});
const doneCardsState = atom({
  key: 'DoneCards',
  default: DUMMY_KANBAN[KANBAN_STATE.DONE], //array
  effects: [persistAtom],
});
```

### [Assignment2] ì¹¸ë°˜ë³´ë“œì˜ ëª¨ë‹¬ì°½(ì´ìŠˆì¹´ë“œ Read, Update)

#### ğŸ“ Modal ë°ì´í„°ë¥¼ atom, selectorë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì—­ ê´€ë¦¬

- ë‹´ë‹¹ì: ìœ ì„œê²½
- ê°ì²´ ì „ì—­ ë°ì´í„°ì¸ `modalState`ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë‹¬ì°½ on/off
- ìƒˆë¡œë§Œë“¤ê¸° í´ë¦­ ì‹œ ì¹¸ë°˜ë³´ë“œ state ì •ë³´ë¥¼, ì¹´ë“œ í´ë¦­ ì‹œ ì¹´ë“œ ë°ì´í„° ì •ë³´ë¥¼ `modalState`ì— ì „ë‹¬
- `selector`ë¥¼ ì‚¬ìš©í•˜ì—¬ `atom`ì˜ ì •ë³´ ë³€í™˜í•˜ì—¬ ëª¨ë‹¬ì°½ì— ì „ë‹¬

```jsx
export const modalState = atom({
  key: 'ModalState',
  default: {},
});

export const modalCardSelector = selector({
  key: 'modalCardSelector',
  get: ({ get }) => {
    const modal = get(modalState);
    return modal.id !== undefined
      ? { ...modal, isUpdate: true }
      : { state: modal.state, isUpdate: false };
  },
});
```

- `selector`ì—ì„œ ë°˜í™˜í•˜ëŠ” ê°’ìœ¼ë¡œ Card ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•¨(ì¸ìŠ¤í„´ìŠ¤ íŒ©í† ë¦¬ í•¨ìˆ˜ ì‚¬ìš©)

```jsx
Modal.js;
const modalData = useRecoilValue(modalCardSelector);
const card = modalData.isUpdate
  ? Card.createCard(modalData)
  : Card.createNewCard(modalData);
```

#### ğŸ“ Card classë¥¼ í™œìš©í•œ ë°ì´í„°ì™€ ë¡œì§ ê´€ë¦¬

- ë‹´ë‹¹ì: ìœ ì„œê²½
- Modal ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„° get/set ë¡œì§ê³¼ í•„ìš”í•œ ê°ì²´ ë°˜í™˜ ë¡œì§ì„ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬
- Static methodì¸ `createCard` `createNewCard`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ì¹´ë“œ ìƒì„±/ ìƒˆë¡œìš´ ì¹´ë“œ ìƒì„±í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ íŒ©í† ë¦¬ í•¨ìˆ˜ êµ¬í–”

```jsx
export class Card {
  #id; // ê° í•„ë“œëŠ” gettetì™€ setterë¡œ ì ‘ê·¼ ê°€ëŠ¥
  #title;
  #content;
  #dueDate;
  #manager;
  #state;

  constructor(obj) {
    this.#id = obj.id;
    this.#title = obj.title;
    this.#content = obj.content;
    this.#dueDate = obj.dueDate;
    this.#manager = obj.manager;
    this.#state = obj.state;
  }

  get object() {
    return {
      id: this.#id,
      title: this.#title,
      content: this.#content,
      dueDate: this.#dueDate,
      manager: this.#manager,
      state: this.#state,
    };
  }

  get objectExceptState() {
    return {
      id: this.#id,
      title: this.#title,
      content: this.#content,
      dueDate: this.#dueDate,
      manager: this.#manager,
    };
  }

  get isNewCard() {
    return false;
  }

  isNoEmpty() {
    const values = Object.values(this.object);
    const emptyValues = values.filter((v) => v === '');
    return emptyValues.length === 0;
  }

  static createCard(modalObj) {
    return new Card(modalObj);
  }

  static createNewCard(modalObj) {
    const newCard = {
      id: createNewId(),
      dueDate: getFormattedToday(),
      ...defaultCard,
      state: modalObj.state,
    };
    return new NewCard(newCard);
  }
}

export class NewCard extends Card {
  get isNewCard() {
    return true;
  }
}
```

#### ğŸ“ useUpdateCards ì»¤ìŠ¤í…€ í›…ì„ ì‚¬ìš©í•œ Cards ë°°ì—´ ë°ì´í„° ê´€ë¦¬

- ë‹´ë‹¹ì: ìœ ì„œê²½
- ëª¨ë‹¬ ì°½ì—ì„œ ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œ ë¹ˆ input ê°’ì´ ìˆë‹¤ë©´ alert ë°œìƒ
- ìƒˆë¡œìš´ ì¹´ë“œ ìƒì„± / ê¸°ì¡´ ì¹´ë“œ ìˆ˜ì •ì— ë”°ë¼ ì»¤ìŠ¤í…€ í›… ì‹¤í–‰

```jsx
const clickSaveBtn = (event) => {
  event.preventDefault();
  if (!card.isNoEmpty()) {
    return alert('ëª¨ë“  ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
  }

  if (initialState === card.state) {
    updateSameStateCardsByCard(card);
  } else {
    updateDiffStateCardsByCard(initialState, card);
  }
};
```

- ì „ì—­ ë°ì´í„°ì¸ 3 ê°œì˜ ì¹¸ë°˜ë³´ë“œ ìƒíƒœ ë°°ì—´ì„ ìˆ˜ì •í•˜ëŠ” ì»¤ìŠ¤í…€ í›…
  - ë°°ì—´ì˜ CRUDê°€ ì´ë£¨ì–´ì§€ëŠ” ê²½ìš°ì™€ drag and drop ì‹œ í•´ë‹¹ í›…ì´ ì‚¬ìš©ë˜ì–´ ë¶„ë¦¬
  - ì•„ë˜ì˜ ì½”ë“œëŠ” ìƒˆë¡œìš´ ì¹´ë“œë¥¼ ìƒì„±í•˜ëŠ” 2 ê°œì˜ í•¨ìˆ˜

```jsx
export const useUpdateCards = () => {
  const [todos, setTodos] = useRecoilState(todoCardsState);
  const [progress, setProgress] = useRecoilState(progressCardsState);
  const [done, setDone] = useRecoilState(doneCardsState);

  const cardsArr = {
    todos: [...todos],
    progress: [...progress],
    done: [...done],
  };

  const setCardsArr = {
    todos: setTodos,
    progress: setProgress,
    done: setDone,
  };

  const updateSameStateCardsByCard = (card) => {
    const newCard = card.isNewCard
      ? createCard(cardsArr[card.state], card)
      : updateCard(cardsArr[card.state], card);
    setCardsArr[card.state](newCard);
  };

  const updateDiffStateCardsByCard = (prevState, card) => {
    const newPrevCards = deleteCard(cardsArr[prevState], card.id);
    const newCard = createCard(cardsArr[card.state], card);

    setCardsArr[prevState](newPrevCards);
    setCardsArr[card.state](newCard);
  };

  return {
    updateSameStateCardsByCard,
    updateDiffStateCardsByCard,
  };
};
```

#### ğŸ“ ëª¨ë‹¬ ìƒíƒœ ê°’ ê´€ë¦¬

- ë‹´ë‹¹ì: ì„ìˆ˜ì§„
- `useRef`ë¡œ ì„ íƒëœ ê°’ì„ ë°›ê³ , `create`ã†`read`ã†`update`ì˜ ëª¨ë‹¬ì°½ì´ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— `create`ê°€ ì•„ë‹ ê²½ìš° ì´ë¯¸ ì„ íƒëœ ê°’ì„ ë°›ì•„ì™€ ì‚¬ìš©
- ê°ê°ì˜ option valueëŠ” ê°’ì´ ë³€í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìƒìˆ˜ë¥¼ ë¶ˆëŸ¬ì™€ ì‚¬ìš©

```js
import { KANBAN_STATE } from '../../utils/constant';

const ModalStateInput = ({ card }) => {
  const stateRef = useRef(card.state);

  const optionClick = () => {
    card.state = stateRef.current.value;
  };

  return (
    <DivWrapper>
      <select ref={stateRef} defaultValue={stateRef} onChange={optionClick}>
        <option value={KANBAN_STATE.TODOS}>í•  ì¼</option>
        <option value={KANBAN_STATE.PROGRESS}>ì§„í–‰ ì¤‘</option>
        <option value={KANBAN_STATE.DONE}>ì™„ë£Œ</option>
      </select>
    </DivWrapper>
  );
};
```

### [Assignment3,4] Trello ê¸°ëŠ¥ - ìƒíƒœë³€ê²½,ì •ë ¬ê¸°ëŠ¥

- ë‹´ë‹¹ì : ì´ìˆ˜ì°½
- HTML Eventì¸ DragStart, DragOver(DragEnter), drop(DragEnd)ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„
- ê°ê°ì˜ ì¹´ë“œë“¤ì´ ìˆœì„œë¥¼ ë³€ê²½í•  ë•Œ ìì²´ì ì¸ hooksë¥¼ ì´ìš©í•˜ì—¬ ê´€ë¦¬

```js
const updateSameStateCardsByCard = (card) => {
  const newCard = card.isNewCard
    ? createCard(cardsArr[card.state], card)
    : updateCard(cardsArr[card.state], card);
  setCardsArr[card.state](newCard);
};
const updateDiffStateCardsById = (
  prevState,
  prevId,
  currState,
  currId,
  index,
) => {
  const selectedCard = getCardById(cardsArr[prevState], prevId);
  const newPrevCards = deleteCard(cardsArr[prevState], prevId);
  const isEnd = cardsArr[currState].length - 1 === index;
  const newCurrCards = isEnd
    ? createCard(cardsArr[currState], selectedCard)
    : updateNewCard(cardsArr[currState], currId, selectedCard);
  setCardsArr[prevState](newPrevCards);
  setCardsArr[currState](newCurrCards);
};
```

- ì¹¸ë°˜ì¹´ë“œì˜ ìƒíƒœ(í•  ì¼, ì§„í–‰ ì¤‘, ì™„ë£Œ)ì— ë”°ë¼ ì„œë¡œì˜ ì¹´ë“œë“¤ì˜ ë™ì¼ ìœ ë¬´ ë¶„ê¸° ì²˜ë¦¬

```js
  const dragStart = (e) => {
    e.stopPropagation();
    setDragItem({ state: kanbanState, id: e.target.id });
  };
  const dragEnter = (enterState, e) => {
    e.stopPropagation();
    e.preventDefault();
    setDragOverItem({ state: enterState, id: e.currentTarget.id });
  };
  const drop = async (e) => {
    e.stopPropagation();
    e.preventDefault();
    return dragItem.state === dragOverItem.state
      ? updateSameStateCardsById(dragItem.state, dragItem.id)
      : updateDiffStateCardsById(
          dragItem.state,
          dragItem.id,
          dragOverItem.state,
          dragOverItem.id,
        );
  };
  return (
    <DivDragabble
      draggable
      onDragStart={dragStart}
      onDragOver={dragEnter.bind(this, kanbanState)}
      onDragEnd={drop}
      id={id}
    >
      {children}
    </DivDragabble>
  );
};
```

- dragStart->dragEnter->dropì˜ ì´ë²¤íŠ¸ ì§„í–‰ íë¦„ êµ¬í˜„

#### (ADDITIANL POINT)í•˜ë‚˜ì˜ ìƒíƒœì´ ë¹ˆ ë°°ì—´ì¼ ë•Œ ì¹´ë“œì¶”ê°€, ì˜ˆë¥¼ ë“¤ì–´ í•  ì¼ì˜ columnì´ ë¹ˆ ë°°ì—´ì¼ ë•Œ ë‹¤ë¥¸ ìƒíƒœì—ì„œ í•  ì¼ columnì˜ ì²« ìš”ì†Œë¡œ ì¶”ê°€í•˜ëŠ” ê²½ìš°

```js
const dragEnter = (e) => {
  e.stopPropagation();
  e.preventDefault();
  if (cards.length === 0) {
    updateDiffStateCardsById(dragItem.state, dragItem.id, title, -1);
  }
};
```

- ë¹ˆ ë°°ì—´ì¼ ë•Œì˜ lengthë¥¼ íŒŒì•…í•¨

#### (ADDITIANL POINT)í•œ ë°°ì—´ì˜ ë ë¶€ë¶„ì„ ì¶”ê°€í•˜ëŠ” ê²½ìš° ê³„ì† ë§¨ ëì— ì¶”ê°€ë˜ì§€ ì•Šê³  ë ë¶€ë¶„ì—ì„œ ë°”ë¡œ ìœ„ì— ì •ë ¬ë˜ëŠ” ê²½ìš°

```js
const updateDiffStateCardsById = (
  prevState,
  prevId,
  currState,
  currId,
  index,
) => {
  const selectedCard = getCardById(cardsArr[prevState], prevId);
  const newPrevCards = deleteCard(cardsArr[prevState], prevId);
  const isEnd = cardsArr[currState].length - 1 === index;
  const newCurrCards = isEnd
    ? createCard(cardsArr[currState], selectedCard)
    : updateNewCard(cardsArr[currState], currId, selectedCard);
  setCardsArr[prevState](newPrevCards);
  setCardsArr[currState](newCurrCards);
};
```

- dragEnterí•œ ë¶€ë¶„ì´ ë°°ì—´ì˜ ë§ˆì§€ë§‰ ìš”ì†Œì¸ ê²ƒì„

## [Assignment5-8]

- í•´ë‹¹ ê³¼ì œëŠ” ë‹¤ë¥¸ ê³¼ì œì— ë³‘í•©ë˜ì—ˆìŠµë‹ˆë‹¤.

## [Assignment8] ì‚¬ìš©ì ê²€ìƒ‰ê¸°ëŠ¥

#### ğŸ“ íƒ€ì´í•‘ì„ í†µí•œ ì‚¬ìš©ì ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„

- ë‹´ë‹¹ì : ê²½ì§€ìœ¤

- `filterUserByCurrValue` : `onChange`ë¡œ `keyword`ê°€ ê³„ì† ê°±ì‹  ë˜ê¸°ë•Œë¬¸ì— ë¦¬ë Œë”ë§ì‹œ í•´ë‹¹ í•¨ìˆ˜ê°€ ê³„ì† ì¬ìƒì‚°ë˜ì§€ ì•Šë„ë¡ `useCallback` ìœ¼ë¡œ êµ¬í˜„
- ìë™ê²€ìƒ‰ ê¸°ëŠ¥ì€ `filter`ì™€ `includes`ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

```js
// ë¦¬ë Œë”ë§ ë ë•Œë§ˆë‹¤ filterë˜ëŠ” í•¨ìˆ˜ ì¬ìƒì‚°ë˜ì§€ ì•Šë„ë¡ useCallback ì‚¬ìš©
const filterUserByCurrValue = useCallback(() => {
  return USERS.filter((user) => user.includes(keyword));
}, [keyword]);
```

- `useDebounce`
  - keyword ê°’ê³¼ delay ì‹œí‚¤ê³  ì‹¶ì€ ì‹œê°„ì„ ë§¤ê°œë³€ìˆ˜ë°›ìŒ
  - ë°›ì€ value ê°’ì„ 0.5ì´ˆ ì§€ì—°í›„ì— setter í•¨ìˆ˜ë¡œ ìƒíƒœë³€ê²½
- `debounceValue`
  - ìœ„ì—ì„œ ì‘ì„±í•œ useDebounce ì—ì„œ ë°›ì€ ê°’ì„ ì˜ì¡´ì„±ì— ì¶”ê°€
  - í•´ë‹¹ ê°’ì´ ë³€ê²½ë ë•Œë§ˆë‹¤ (0.5ì´ˆ ë”œë ˆì´) filter í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œ ì¶”í›„ api í˜¸ì¶œ ì½”ë“œë¡œ ë³€ê²½ ë˜ì–´ë„ ì„±ëŠ¥ ê´€ë ¨ ì´ìŠˆì— ëŒ€ì²˜í•˜ë„ë¡í•¨

```js
import { useEffect, useState } from 'react';

const useDebounce = (value, delay = 500) => {
  const [debounceVal, setdebounceVal] = useState(value);

  useEffect(() => {
    const handler = setTimeout(() => {
      setdebounceVal(value);
    }, delay);
    return () => {
      clearTimeout(handler);
    };
  }, [value, delay]);

  return debounceVal;
};

export default useDebounce;
```

```js
import useDebounce from '../../hooks/useDebounce';

const [keyword, setKeyword] = useState();
const [filterdUser, setFilterdUser] = useState([]);
const [isDropdown, setIsDropdown] = useState(false);

const debounceValue = useDebounce(keyword);

useEffect(() => {
  setFilterdUser(filterUserByCurrValue());
}, [debounceValue, setFilterdUser, filterUserByCurrValue]);

// íƒ€ì´í•‘ í• ë•Œë§ˆë‹¤ê°€ í•„í„°ë§í•˜ì§€ ì•Šê³  .5ì´ˆ ì •ë„ ì‚¬ìš©ìê°€ íƒ€ì´í•‘ì´ ëë‚¬ì„ë•Œ filterí•˜ê¸°
const onChange = (evt) => {
  setKeyword(evt.currentTarget.value);
  card.manager = evt.currentTarget.value;
};
```

## Assignment9) ë¡œë”©

#### ğŸ“ ë°ì´í„°ê°€ ë¡œë”©ì¤‘ì¸ ê²½ìš° ì•¡ì…˜ ë°œìƒ ë°©ì§€

- ë‹´ë‹¹ì : ê²½ì§€ìœ¤

- `Home.jsx` > ë°ì´í„°ê´€ë ¨ ë³€ê²½ì‹œ ë¡œë”©ì»´í¬ë„ŒíŠ¸ ë„ìš°ê¸°
  - recoilë¡œ ê´€ë¦¬ë˜ê³ ìˆëŠ” 3ê°€ì§€ ìƒíƒœì˜ ë°ì´í„°ë¥¼ `useEffect`ì˜ ì˜ì¡´ì„±ì— ì¶”ê°€
  - ë°ì´í„°ê°€ ë³€ê²½ë ë•Œë§ˆë‹¤ tickí•¨ìˆ˜ë¡œ 0.5ì´ˆ ë™ì•ˆ ë¡œë”©ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ë„ë¡ `setIsKanbanChanged`ì‚¬ìš©

```js
  const modalData = useRecoilValue(modalState);
  const todos = useRecoilValue(todoCardsState);
  const progress = useRecoilValue(progressCardsState);
  const done = useRecoilValue(doneCardsState);

  const [isKanbanChanged, setIsKanbanChanged] = useState(false);
  useEffect(() => {
    const tick = () => {
      return setTimeout(() => setIsKanbanChanged(false), 500);
    };
    setIsKanbanChanged(true);
    tick();
    return () => clearTimeout(tick);
  }, [todos, progress, done]);

  return(
  //...ì¤‘ëµ
    {isKanbanChanged && <DivLoading>ë¡œë”©ì¤‘</DivLoading>}
  //... ì¤‘ëµ
  )
```

- `Modal.jsx` > form ì œì¶œ ë“± ì•¡ì…˜ ë°œìƒì‹œ 2ë²ˆ ì´ìƒì˜ ì¤‘ë³µì•¡ì…˜ ë°©ì§€

- setTimeoutì„ ì‚¬ìš©í•˜ì—¬ 0.5ì´ˆì˜ ë”œë ˆì´ë¥¼ ë°œìƒì‹œí‚´
- íƒ€ì´ë¨¸ê°€ ì¡´ì¬í•˜ë©´ ë“±ë¡ëœ ëª¨ë“  ì´ë²¤íŠ¸ì™€ timerIdë¥¼ ì œê±°í•˜ë„ë¡ ì½”ë“œì‘ì„±
- í´ë¦­ ê´€ë ¨ì´ë²¤íŠ¸ì— ì¤‘ë³µ ë°©ì§€ 0.5ì´ˆ ë”œë ˆì´ë¥¼ ëª¨ë‘ ì ìš©

```js
let timer;
const clickSaveBtn = (event) => {
  event.preventDefault();
  if (timer) {
    clearTimeout(timer);
  }
  timer = setTimeout(() => {
    if (!card.isNoEmpty()) {
      return alert('ëª¨ë“  ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
    }

    if (initialState === card.state) {
      updateSameStateCardsByCard(card);
    } else {
      updateDiffStateCardsByCard(initialState, card);
    }

    updateLocalStorgeId(card.id);
    resetModal();
  }, 500);
};
```
